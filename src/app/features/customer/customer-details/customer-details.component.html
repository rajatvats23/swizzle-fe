<div class="customer-details-container">
  
  <!-- Main Card -->
  <div class="details-card">
    
    <!-- Progress Indicator -->
    <div class="progress-section">
      <p class="progress-label">Step 1 of 3</p>
      <div class="progress-dots">
        <div class="dot active"></div>
        <div class="connector"></div>
        <div class="dot"></div>
        <div class="connector"></div>
        <div class="dot"></div>
      </div>
    </div>

    <!-- Header -->
    <div class="header-section">
      <h1 class="title">Your Details</h1>
      <p class="subtitle">We need your information to process the order</p>
    </div>

    <!-- Error Message -->
    @if (error()) {
      <div class="error-alert">
        <span class="material-symbols-outlined">error</span>
        <span>{{ error() }}</span>
      </div>
    }

    <!-- Loading State -->
    @if (loading() && !phoneNumber()) {
      <div class="loading-state">
        <p>Loading order details...</p>
      </div>
    }

    <!-- Form -->
    @if (!loading() || phoneNumber()) {
      <form (ngSubmit)="continue()" class="details-form">
        
        <!-- Phone Number Field -->
        <div class="field-group">
          <label class="field-label">Phone Number</label>
          <div class="phone-input-wrapper">
            <span class="phone-prefix">+91</span>
            <input
              type="tel"
              [value]="phoneNumber()"
              disabled
              class="phone-input"
            />
            <span class="material-symbols-outlined check-icon">check_circle</span>
          </div>
        </div>

        <!-- Name Field -->
        <div class="field-group">
          <label class="field-label">Full Name</label>
          <input
            type="text"
            [(ngModel)]="customerName"
            name="customerName"
            placeholder="Enter your full name"
            required
            class="text-input"
            [class.error]="error() && !customerName"
          />
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
          <button
            type="button"
            (click)="skipToMenu()"
            class="btn-text"
          >
            Skip for now
          </button>
          
          <button
            type="submit"
            [disabled]="loading()"
            class="btn btn-primary"
          >
            {{ loading() ? 'Sending OTP...' : 'Continue' }}
          </button>
        </div>

      </form>
    }

  </div>

</div>